<!DOCTYPE html>
<html lang="zh-cn">
    <head>
	<meta name="generator" content="Hugo 0.153.1"><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>古月月仔的博客</title><meta name="Description" content="This is my cool site"><meta property="og:url" content="http://localhost:1313/">
  <meta property="og:site_name" content="古月月仔的博客">
  <meta property="og:title" content="古月月仔的博客">
  <meta property="og:description" content="This is my cool site">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="website">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="古月月仔的博客">
  <meta name="twitter:description" content="This is my cool site">
<meta name="application-name" content="My cool site">
<meta name="apple-mobile-web-app-title" content="My cool site"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://localhost:1313/" /><link rel="alternate" href="/index.xml" type="application/rss+xml" title="古月月仔的博客">
    <link rel="feed" href="/index.xml" type="application/rss+xml" title="古月月仔的博客"><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "WebSite",
        "url": "http:\/\/localhost:1313\/","inLanguage": "zh-cn","author": {
                "@type": "Person",
                "name": "xxxx"
            },"description": "This is my cool site","name": "古月月仔的博客"
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="古月月仔的博客">My cool site</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"><i class='fas fa-archive'></i> 文章 </a><a class="menu-item" href="/categories/"><i class='fas fa-th'></i> 分类 </a><a class="menu-item" href="/tags/"><i class='fas fa-tags'></i> 标签 </a><a class="menu-item" href="/about/"><i class='fas fa-user-circle'></i> 关于 </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="古月月仔的博客">My cool site</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/posts/" title=""><i class='fas fa-archive'></i>文章</a><a class="menu-item" href="/categories/" title=""><i class='fas fa-th'></i>分类</a><a class="menu-item" href="/tags/" title=""><i class='fas fa-tags'></i>标签</a><a class="menu-item" href="/about/" title=""><i class='fas fa-user-circle'></i>关于</a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "$", right: "$", display: false},
                {left: "\\(", right: "\\)", display: false},
                {left: "\\[", right: "\\]", display: true}
            ]
        });
    });
</script><main class="main">
                <div class="container"><div class="page home" data-home="posts"><div class="home-profile"><div class="home-avatar"><a href="/posts/" title="文章"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/ChipDog.jpg"
        data-srcset="/img/ChipDog.jpg, /img/ChipDog.jpg 1.5x, /img/ChipDog.jpg 2x"
        data-sizes="auto"
        alt="/img/ChipDog.jpg"
        title="/img/ChipDog.jpg" /></a></div><h1 class="home-title">古月月仔</h1><div class="home-subtitle"><div id="id-1" class="typeit"></div></div><div class="links"><a href="https://github.com/TingDongHu" title="GitHub" target="_blank" rel="noopener noreffer me"><i class="fab fa-github fa-fw" aria-hidden="true"></i></a><a href="https://www.zhihu.com/people/lin-chu-xin-44-90" title="知乎" target="_blank" rel="noopener noreffer me"><i data-svg-src="/lib/simple-icons/icons/zhihu.min.svg" aria-hidden="true"></i></a><a href="https://space.bilibili.com/473408368" title="bilibili" target="_blank" rel="noopener noreffer me"><i data-svg-src="/lib/simple-icons/icons/bilibili.min.svg" aria-hidden="true"></i></a><a href="mailto:2680957536@qq.com" title="Email" rel="me"><i class="far fa-envelope fa-fw" aria-hidden="true"></i></a></div></div>
<article class="single summary" itemscope itemtype="http://schema.org/Article"><div class="featured-image-preview">
            <a href="/posts/c&#43;&#43;-.%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6%E7%9A%84%E6%84%8F%E4%B9%89%E5%92%8C%E7%94%A8%E6%B3%95%E5%8C%BA%E5%88%86/"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/cpp.png"
        data-srcset="/img/cpp.png, /img/cpp.png 1.5x, /img/cpp.png 2x"
        data-sizes="auto"
        alt="/img/cpp.png"
        title="/img/cpp.png" /></a>
        </div><h1 class="single-title" itemprop="name headline">
        <a href="/posts/c&#43;&#43;-.%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6%E7%9A%84%E6%84%8F%E4%B9%89%E5%92%8C%E7%94%A8%E6%B3%95%E5%8C%BA%E5%88%86/">【C++】::|->|.|*特殊字符的意义和用法区分</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>xxxx</a></span>&nbsp;<span class="post-publish">发布于 <time datetime="2024-04-05">2024-04-05</time></span>&nbsp;<span class="post-category">收录于 <a href="/categories/c++/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>C++</a>&nbsp;<a href="/categories/%E4%BE%AF%E6%8D%B7%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>侯捷面向对象</a></span></div><div class="content"><p>在 C++ 中，<code>::</code>、<code>-&gt;</code> 、<code>.</code> 和<code>*</code>是四种不同的运算符，分别用于不同的上下文场景。它们的详细解释和用法对比：</p>
<h2 id="1-作用域解析运算符"><strong>1. 作用域解析运算符 <code>::</code></strong></h2>
<h3 id="用途"><strong>用途</strong></h3>
<ul>
<li>访问 <strong>命名空间、类、结构体或枚举</strong> 的成员</li>
<li>调用 <strong>静态成员</strong>（变量或函数）</li>
<li>区分同名的全局变量和局部变量</li>
</ul>
<h3 id="示例"><strong>示例</strong></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> MyNamespace {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> value <span style="color:#f92672">=</span> <span style="color:#ae81ff">42</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyClass</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> staticValue;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">staticMethod</span>() {
</span></span><span style="display:flex;"><span>        std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Static method called!&#34;</span> <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> MyClass<span style="color:#f92672">::</span>staticValue <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>; <span style="color:#75715e">// 静态成员变量定义
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 访问命名空间成员
</span></span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> MyNamespace<span style="color:#f92672">::</span>value <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl; <span style="color:#75715e">// 输出: 42
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 访问类的静态成员
</span></span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> MyClass<span style="color:#f92672">::</span>staticValue <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl; <span style="color:#75715e">// 输出: 100
</span></span></span><span style="display:flex;"><span>    MyClass<span style="color:#f92672">::</span>staticMethod(); <span style="color:#75715e">// 输出: Static method called!
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="关键点"><strong>关键点</strong></h3>
<ul>
<li><code>::</code> <strong>不依赖对象实例</strong>，直接通过类名或命名空间访问成员。</li>
<li>常用于 <strong>全局变量、静态成员、嵌套类</strong> 等场景。</li>
</ul>
<hr>
<h2 id="2-成员访问运算符"><strong>2. 成员访问运算符 <code>-&gt;</code></strong></h2>
<h3 id="用途-1"><strong>用途</strong></h3>
<ul>
<li>通过 <strong>指针</strong> 访问对象的成员（变量或函数）</li>
<li>等价于 <code>(*ptr).member</code>（先解引用，再用 <code>.</code> 访问）</li>
</ul>
<h3 id="示例-1"><strong>示例</strong></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyClass</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> value <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">print</span>() {
</span></span><span style="display:flex;"><span>        std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Value: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> value <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    MyClass obj;
</span></span><span style="display:flex;"><span>    MyClass<span style="color:#f92672">*</span> ptr <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>obj; <span style="color:#75715e">// 指向对象的指针
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 通过指针访问成员
</span></span></span><span style="display:flex;"><span>    ptr<span style="color:#f92672">-&gt;</span>value <span style="color:#f92672">=</span> <span style="color:#ae81ff">20</span>;     <span style="color:#75715e">// 等价于 (*ptr).value = 20;
</span></span></span><span style="display:flex;"><span>    ptr<span style="color:#f92672">-&gt;</span>print();        <span style="color:#75715e">// 输出: Value: 20
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="关键点-1"><strong>关键点</strong></h3>
<ul>
<li><code>-&gt;</code> <strong>只能用于指针</strong>，不能用于普通对象。</li>
<li>在 <strong>智能指针</strong>（如 <code>std::shared_ptr</code>）和 <strong>迭代器</strong> 中也常用。</li>
</ul>
<hr>
<h2 id="3-成员访问运算符"><strong>3. 成员访问运算符 <code>.</code></strong></h2>
<h3 id="用途-2"><strong>用途</strong></h3>
<ul>
<li>通过 <strong>对象实例</strong>（非指针）访问成员（变量或函数）</li>
<li>适用于 <strong>结构体、类、联合体</strong> 等</li>
</ul>
<h3 id="示例-2"><strong>示例</strong></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyClass</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> value <span style="color:#f92672">=</span> <span style="color:#ae81ff">30</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">print</span>() {
</span></span><span style="display:flex;"><span>        std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Value: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> value <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    MyClass obj;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 通过对象访问成员
</span></span></span><span style="display:flex;"><span>    obj.value <span style="color:#f92672">=</span> <span style="color:#ae81ff">40</span>;
</span></span><span style="display:flex;"><span>    obj.print(); <span style="color:#75715e">// 输出: Value: 40
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="关键点-2"><strong>关键点</strong></h3>
<ul>
<li><code>.</code> <strong>只能用于对象实例</strong>，不能用于指针。</li>
<li>在 <strong>结构体、类、联合体</strong> 中通用。</li>
</ul>
<h2 id="4-解引用指针运算符-">4. 解引用/指针运算符 <code>*</code></h2>
<h3 id="用途-3"><strong>用途</strong></h3>
<ol>
<li><strong>指针声明</strong>：表示变量是指针类型</li>
<li><strong>解引用</strong>：获取指针指向的实际值</li>
<li><strong>乘法运算</strong>：算术乘法（本文不讨论，因与其他运算符无关）</li>
</ol>
<h3 id="示例与详解"><strong>示例与详解</strong></h3>
<h4 id="1-指针声明"><strong>(1) 指针声明</strong></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> num <span style="color:#f92672">=</span> <span style="color:#ae81ff">42</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span><span style="color:#f92672">*</span> ptr <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>num;  <span style="color:#75715e">// ptr 是一个指向 int 的指针
</span></span></span></code></pre></div><ul>
<li><code>int* ptr</code> 表示 <code>ptr</code> 存储的是内存地址，而非直接的值。</li>
</ul>
<h4 id="2-解引用获取指针指向的值"><strong>(2) 解引用（获取指针指向的值）</strong></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> num <span style="color:#f92672">=</span> <span style="color:#ae81ff">42</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span><span style="color:#f92672">*</span> ptr <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>num;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#f92672">*</span>ptr;  <span style="color:#75715e">// 输出: 42（通过 * 获取指针指向的实际值）
</span></span></span><span style="display:flex;"><span><span style="color:#f92672">*</span>ptr <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>;         <span style="color:#75715e">// 修改指针指向的值
</span></span></span><span style="display:flex;"><span>std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> num;   <span style="color:#75715e">// 输出: 100
</span></span></span></code></pre></div><h4 id="3-与"><strong>(3) 与 <code>-&gt;</code> 的关系</strong></h4>
<p><code>ptr-&gt;member</code> 等价于 <code>(*ptr).member</code>：</p></div><div class="post-footer">
        <a href="/posts/c&#43;&#43;-.%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6%E7%9A%84%E6%84%8F%E4%B9%89%E5%92%8C%E7%94%A8%E6%B3%95%E5%8C%BA%E5%88%86/">阅读全文</a><div class="post-tags">
                <i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/%E8%AF%AD%E6%B3%95/">语法</a>,&nbsp;<a href="/tags/c&#43;&#43;/">C&#43;&#43;</a>,&nbsp;<a href="/tags/%E6%8C%87%E9%92%88/">指针</a>,&nbsp;<a href="/tags/%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88/">智能指针</a>,&nbsp;<a href="/tags/%E5%BC%95%E7%94%A8/">引用</a>,&nbsp;<a href="/tags/%E4%BD%9C%E7%94%A8%E5%9F%9F/">作用域</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><div class="featured-image-preview">
            <a href="/posts/javaweb%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/javaweb.png"
        data-srcset="/img/javaweb.png, /img/javaweb.png 1.5x, /img/javaweb.png 2x"
        data-sizes="auto"
        alt="/img/javaweb.png"
        title="/img/javaweb.png" /></a>
        </div><h1 class="single-title" itemprop="name headline">
        <a href="/posts/javaweb%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/">【JavaWeb】前端工程化</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>xxxx</a></span>&nbsp;<span class="post-publish">发布于 <time datetime="2024-03-25">2024-03-25</time></span>&nbsp;<span class="post-category">收录于 <a href="/categories/java/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>Java</a></span></div><div class="content"><p><strong>​Ajax 的缺点</strong>：</p>
<ul>
<li>浏览器兼容性：不同浏览器对 XMLHttpRequest 的实现可能不同。</li>
<li>SEO 不友好：动态加载的内容可能无法被搜索引擎抓取。</li>
<li>调试复杂：异步通信的调试相对复杂。</li>
</ul>
<h2 id="axios">Axios</h2>
<p>Axios 是一个基于 ​Promise 的 HTTP 客户端，用于浏览器和 Node.js。它简化了与服务器的 HTTP 请求，并提供了强大的功能，如拦截请求和响应、自动转换 JSON 数据等。</p>
<p><strong>Axios 的特点</strong></p>
<ul>
<li>基于 Promise：支持异步操作，代码更简洁。</li>
<li>跨平台：适用于浏览器和 Node.js。</li>
<li>自动转换数据：自动将请求和响应的数据转换为 JSON。</li>
<li>拦截器：可以拦截请求和响应，添加全局处理逻辑。</li>
<li>取消请求：支持取消未完成的请求。</li>
<li>错误处理：提供统一的错误处理机制。</li>
</ul>
<p>基本使用：
安装axios：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npm install axios
</span></span></code></pre></div><p>导入axios</p>
<pre tabindex="0"><code>import axios &#39;axios&#39;
</code></pre><p>使用Axios发送请求，并获取响应结果，官方提供的api很多，此处给出2种，如下
发送 get 请求</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">axios</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">method</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;get&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;http://localhost:8080/ajax-demo1/aJAXDemo1?username=zhangsan&#34;</span>
</span></span><span style="display:flex;"><span>}).<span style="color:#a6e22e">then</span>(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">resp</span>){
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">data</span>);
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><p>发送 post 请求</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">axios</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">method</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;post&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;http://localhost:8080/ajax-demo1/aJAXDemo1&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;username=zhangsan&#34;</span>
</span></span><span style="display:flex;"><span>}).<span style="color:#a6e22e">then</span>(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">resp</span>){
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">resp</span>.<span style="color:#a6e22e">data</span>);
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><h2 id="前后端分离开发">前后端分离开发</h2>
<p>前后端分离开发 是一种现代 Web 开发架构，将前端（客户端）和后端（服务器）分离为两个独立的项目，通过 API 进行通信。这种方式提高了开发效率、代码可维护性和团队协作能力。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://github.com/user-attachments/assets/cec68513-d1eb-474b-b7f8-1233d444a4fd"
        data-srcset="https://github.com/user-attachments/assets/cec68513-d1eb-474b-b7f8-1233d444a4fd, https://github.com/user-attachments/assets/cec68513-d1eb-474b-b7f8-1233d444a4fd 1.5x, https://github.com/user-attachments/assets/cec68513-d1eb-474b-b7f8-1233d444a4fd 2x"
        data-sizes="auto"
        alt="https://github.com/user-attachments/assets/cec68513-d1eb-474b-b7f8-1233d444a4fd"
        title="Image" /></p></div><div class="post-footer">
        <a href="/posts/javaweb%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/">阅读全文</a><div class="post-tags">
                <i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/%E5%89%8D%E7%AB%AF/">前端</a>,&nbsp;<a href="/tags/vue/">Vue</a>,&nbsp;<a href="/tags/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/">环境配置</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><div class="featured-image-preview">
            <a href="/posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8Euc&#43;&#43;%E4%B8%8E%E6%A0%87%E5%87%86c&#43;&#43;%E7%9A%84%E5%8C%BA%E5%88%AB/"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/unrealengine.png"
        data-srcset="/img/unrealengine.png, /img/unrealengine.png 1.5x, /img/unrealengine.png 2x"
        data-sizes="auto"
        alt="/img/unrealengine.png"
        title="/img/unrealengine.png" /></a>
        </div><h1 class="single-title" itemprop="name headline">
        <a href="/posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8Euc&#43;&#43;%E4%B8%8E%E6%A0%87%E5%87%86c&#43;&#43;%E7%9A%84%E5%8C%BA%E5%88%AB/">【虚幻引擎】UC++与标准C++的区别</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>xxxx</a></span>&nbsp;<span class="post-publish">发布于 <time datetime="2024-03-19">2024-03-19</time></span>&nbsp;<span class="post-category">收录于 <a href="/categories/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>游戏开发</a></span></div><div class="content"><h2 id="1-类声明与反射系统">1. 类声明与反射系统</h2>
<h3 id="11-类定义语法">1.1 类定义语法</h3>
<h4 id="unreal-c">Unreal C++</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// 必须继承UObject且使用反射宏
</span></span></span><span style="display:flex;"><span>UCLASS(Blueprintable, meta<span style="color:#f92672">=</span>(DisplayName<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;My Object&#34;</span>))
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">UMyObject</span> <span style="color:#f92672">:</span> <span style="color:#66d9ef">public</span> UObject {
</span></span><span style="display:flex;"><span>    GENERATED_BODY() <span style="color:#75715e">// 必须包含
</span></span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    UPROPERTY(EditAnywhere, Category<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Stats&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> Health <span style="color:#f92672">=</span> <span style="color:#ae81ff">100.0f</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    UFUNCTION(BlueprintCallable)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> Heal(<span style="color:#66d9ef">float</span> Amount);
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><h4 id="标准-c">标准 C++</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyObject</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> Health <span style="color:#f92672">=</span> <span style="color:#ae81ff">100.0f</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">Heal</span>(<span style="color:#66d9ef">float</span> Amount) {
</span></span><span style="display:flex;"><span>        Health <span style="color:#f92672">+=</span> Amount;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><h3 id="12-反射机制对比">1.2 反射机制对比</h3>
<table>
  <thead>
      <tr>
          <th>特性</th>
          <th>Unreal C++</th>
          <th>标准 C++</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>运行时类型信息</td>
          <td>通过UCLASS宏自动生成</td>
          <td>仅支持有限RTTI</td>
      </tr>
      <tr>
          <td>动态属性访问</td>
          <td>UPROPERTY字段可通过名字字符串访问</td>
          <td>需要手动实现反射系统</td>
      </tr>
      <tr>
          <td>方法调用</td>
          <td>UFUNCTION支持蓝图调用和RPC</td>
          <td>只能静态调用</td>
      </tr>
  </tbody>
</table>
<h2 id="2-内存管理模型">2. 内存管理模型</h2>
<h3 id="21-对象生命周期">2.1 对象生命周期</h3>
<h4 id="unreal-c-1">Unreal C++</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// 自动垃圾回收
</span></span></span><span style="display:flex;"><span>UMyObject<span style="color:#f92672">*</span> Obj <span style="color:#f92672">=</span> NewObject<span style="color:#f92672">&lt;</span>UMyObject<span style="color:#f92672">&gt;</span>();
</span></span><span style="display:flex;"><span>Obj<span style="color:#f92672">-&gt;</span>MarkPendingKill(); <span style="color:#75715e">// 标记销毁
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 手动控制引用
</span></span></span><span style="display:flex;"><span>Obj<span style="color:#f92672">-&gt;</span>AddToRoot(); <span style="color:#75715e">// 防止被GC
</span></span></span><span style="display:flex;"><span>Obj<span style="color:#f92672">-&gt;</span>RemoveFromRoot();
</span></span></code></pre></div><h4 id="标准-c-1">标准 C++</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// 手动管理
</span></span></span><span style="display:flex;"><span>MyObject<span style="color:#f92672">*</span> obj <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> MyObject();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">delete</span> obj;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 或使用智能指针
</span></span></span><span style="display:flex;"><span><span style="color:#66d9ef">auto</span> ptr <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>make_shared<span style="color:#f92672">&lt;</span>MyObject<span style="color:#f92672">&gt;</span>();
</span></span></code></pre></div><h3 id="22-内存分配器对比">2.2 内存分配器对比</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// Unreal自定义分配器
</span></span></span><span style="display:flex;"><span>FMemory<span style="color:#f92672">::</span>Malloc(Size);
</span></span><span style="display:flex;"><span>FMemory<span style="color:#f92672">::</span>Free(Ptr);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 标准库分配器
</span></span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>malloc(size);
</span></span><span style="display:flex;"><span>std<span style="color:#f92672">::</span>free(p);
</span></span></code></pre></div><h2 id="3-核心数据类型差异">3. 核心数据类型差异</h2>
<h3 id="31-字符串处理">3.1 字符串处理</h3>
<h4 id="unreal-c-2">Unreal C++</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>FString Str <span style="color:#f92672">=</span> TEXT(<span style="color:#e6db74">&#34;Hello&#34;</span>); <span style="color:#75715e">// UTF-16
</span></span></span><span style="display:flex;"><span>FText Text <span style="color:#f92672">=</span> NSLOCTEXT(<span style="color:#e6db74">&#34;NS&#34;</span>, <span style="color:#e6db74">&#34;Key&#34;</span>, <span style="color:#e6db74">&#34;Localized Text&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 格式化
</span></span></span><span style="display:flex;"><span>FString Format <span style="color:#f92672">=</span> FString<span style="color:#f92672">::</span>Printf(TEXT(<span style="color:#e6db74">&#34;%s:%d&#34;</span>), <span style="color:#f92672">*</span>Str, <span style="color:#ae81ff">42</span>);
</span></span></code></pre></div><h4 id="标准-c-2">标准 C++</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>std<span style="color:#f92672">::</span>string str <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Hello&#34;</span>; <span style="color:#75715e">// 依赖编码
</span></span></span><span style="display:flex;"><span>std<span style="color:#f92672">::</span>string format <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>format(<span style="color:#e6db74">&#34;{}:{}&#34;</span>, str, <span style="color:#ae81ff">42</span>); <span style="color:#75715e">// C++20
</span></span></span></code></pre></div><h3 id="32-容器类对比">3.2 容器类对比</h3>
<h4 id="数组操作">数组操作</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// Unreal
</span></span></span><span style="display:flex;"><span>TArray<span style="color:#f92672">&lt;</span>int32<span style="color:#f92672">&gt;</span> Arr;
</span></span><span style="display:flex;"><span>Arr.Add(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>Arr.Remove(<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 标准库
</span></span></span><span style="display:flex;"><span>std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> vec;
</span></span><span style="display:flex;"><span>vec.push_back(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>vec.erase(vec.begin());
</span></span></code></pre></div><h4 id="字典操作">字典操作</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// Unreal
</span></span></span><span style="display:flex;"><span>TMap<span style="color:#f92672">&lt;</span>FName, FString<span style="color:#f92672">&gt;</span> Map;
</span></span><span style="display:flex;"><span>Map.Add(<span style="color:#e6db74">&#34;Key&#34;</span>, <span style="color:#e6db74">&#34;Value&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 标准库
</span></span></span><span style="display:flex;"><span>std<span style="color:#f92672">::</span>unordered_map<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>string, std<span style="color:#f92672">::</span>string<span style="color:#f92672">&gt;</span> map;
</span></span><span style="display:flex;"><span>map.emplace(<span style="color:#e6db74">&#34;Key&#34;</span>, <span style="color:#e6db74">&#34;Value&#34;</span>);
</span></span></code></pre></div><h2 id="4-多线程编程">4. 多线程编程</h2>
<h3 id="41-任务系统">4.1 任务系统</h3>
<h4 id="unreal-c-3">Unreal C++</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// GameThread执行
</span></span></span><span style="display:flex;"><span>AsyncTask(ENamedThreads<span style="color:#f92672">::</span>GameThread, [](){
</span></span><span style="display:flex;"><span>    UE_LOG(LogTemp, Warning, TEXT(<span style="color:#e6db74">&#34;Main thread&#34;</span>));
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 并行任务
</span></span></span><span style="display:flex;"><span>ParallelFor(<span style="color:#ae81ff">10</span>, [](int32 Index){
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 并行执行
</span></span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><h4 id="标准-c-3">标准 C++</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>std<span style="color:#f92672">::</span><span style="color:#66d9ef">thread</span> t([](){
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;New thread&#34;</span> <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl;
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>t.join();
</span></span></code></pre></div><h2 id="5-编译系统差异">5. 编译系统差异</h2>
<h3 id="51-模块定义">5.1 模块定义</h3>
<h4 id="unreal模块">Unreal模块</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// MyModule.Build.cs
</span></span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyModule</span> <span style="color:#f92672">:</span> ModuleRules {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">MyModule</span>(ReadOnlyTargetRules Target) {
</span></span><span style="display:flex;"><span>        PublicDependencyModuleNames.AddRange(<span style="color:#66d9ef">new</span> string[] { <span style="color:#e6db74">&#34;Core&#34;</span> });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="cmake示例">CMake示例</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cmake" data-lang="cmake"><span style="display:flex;"><span>add_library(<span style="color:#e6db74">MyModule</span> <span style="color:#e6db74">STATIC</span> <span style="color:#e6db74">src.cpp</span>)<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span>target_link_libraries(<span style="color:#e6db74">MyModule</span> <span style="color:#e6db74">PUBLIC</span> <span style="color:#e6db74">Core</span>)<span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><h2 id="6-常用宏对比">6. 常用宏对比</h2>
<h3 id="61-常用unreal宏">6.1 常用Unreal宏</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>UE_LOG(LogTemp, Warning, TEXT(<span style="color:#e6db74">&#34;Message&#34;</span>)); <span style="color:#75715e">// 日志
</span></span></span><span style="display:flex;"><span>check(ptr <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nullptr</span>); <span style="color:#75715e">// 断言
</span></span></span><span style="display:flex;"><span>ensureMsgf(bCondition, TEXT(<span style="color:#e6db74">&#34;Message&#34;</span>)); <span style="color:#75715e">// 带消息断言
</span></span></span></code></pre></div><h3 id="62-标准c等效">6.2 标准C++等效</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Message&#34;</span> <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl; <span style="color:#75715e">// 日志
</span></span></span><span style="display:flex;"><span>assert(ptr <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nullptr</span>); <span style="color:#75715e">// 断言
</span></span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span>bCondition) <span style="color:#66d9ef">throw</span> std<span style="color:#f92672">::</span>runtime_error(<span style="color:#e6db74">&#34;Message&#34;</span>); <span style="color:#75715e">// 异常
</span></span></span></code></pre></div><h2 id="7-最佳实践建议">7. 最佳实践建议</h2>
<ol>
<li><strong>在Unreal项目中</strong>：
<ul>
<li>始终使用<code>UCLASS()</code>/<code>UFUNCTION()</code>暴露需要反射的类</li>
<li>对<code>UObject</code>派生类不要使用智能指针</li>
<li>使用<code>TArray</code>代替<code>std::vector</code>以获得更好性能</li>
</ul>
</li>
<li><strong>在独立模块中</strong>：
<ul>
<li>可使用标准库容器和智能指针</li>
<li>通过纯接口类与Unreal代码交互</li>
<li>将标准C++代码封装在<code>Private</code>目录</li>
</ul>
</li>
<li><strong>通用规则</strong>：
<ul>
<li>避免在头文件中混合两种风格的代码</li>
<li>对性能关键路径使用Unreal优化容器</li>
<li>跨平台代码优先使用Unreal封装</li>
</ul>
</li>
</ol></div><div class="post-footer">
        <a href="/posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8Euc&#43;&#43;%E4%B8%8E%E6%A0%87%E5%87%86c&#43;&#43;%E7%9A%84%E5%8C%BA%E5%88%AB/">阅读全文</a><div class="post-tags">
                <i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/c&#43;&#43;/">C&#43;&#43;</a>,&nbsp;<a href="/tags/%E8%AF%AD%E6%B3%95/">语法</a>,&nbsp;<a href="/tags/unrealengine/">UnrealEngine</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><div class="featured-image-preview">
            <a href="/posts/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E8%B7%B3%E8%B7%83%E8%AE%BE%E8%AE%A1/"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/GameDesign.png"
        data-srcset="/img/GameDesign.png, /img/GameDesign.png 1.5x, /img/GameDesign.png 2x"
        data-sizes="auto"
        alt="/img/GameDesign.png"
        title="/img/GameDesign.png" /></a>
        </div><h1 class="single-title" itemprop="name headline">
        <a href="/posts/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E8%B7%B3%E8%B7%83%E8%AE%BE%E8%AE%A1/">【游戏设计】游戏开发中的跳跃设计</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>xxxx</a></span>&nbsp;<span class="post-publish">发布于 <time datetime="2024-03-15">2024-03-15</time></span>&nbsp;<span class="post-category">收录于 <a href="/categories/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>游戏开发</a>&nbsp;<a href="/categories/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%80%9D%E6%83%B3/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>游戏设计思想</a></span></div><div class="content"><p>文章的思路来源于<code>Voidmatrix</code>UP的B站视频总结，以及一些本人游戏开发的感悟所写。</p>
<p>附上原视频链接：<a href="https://www.bilibili.com/video/BV1mDrzYiE5b/?share_source=copy_web&amp;vd_source=a06df7b174b0e55e45242729b8ce1758" target="_blank" rel="noopener noreffer ">【游戏开发秘籍】二段跳？土狼跳？跳跃还有这么多骚操作！游戏角色跳跃功能实现 #01</a></p>
<hr>
<p>游戏的跳跃设计往往决定了这个游戏的上手手感,对于开发者来说,好的游戏跳跃的设计(以及优化)基本要遵循以下原则:</p>
<ul>
<li>
<p><strong>物理模拟与心理预期的平衡</strong></p>
<ul>
<li>既需要遵循基础物理规律（如自由落体）满足玩家直觉，但也要适配游戏的合理放大能力（如2.5米跳跃高度）。
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E8%B7%B3%E8%B7%83%E8%AE%BE%E8%AE%A1/image-20250423170741832.png"
        data-srcset="/posts/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E8%B7%B3%E8%B7%83%E8%AE%BE%E8%AE%A1/image-20250423170741832.png, /posts/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E8%B7%B3%E8%B7%83%E8%AE%BE%E8%AE%A1/image-20250423170741832.png 1.5x, /posts/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E8%B7%B3%E8%B7%83%E8%AE%BE%E8%AE%A1/image-20250423170741832.png 2x"
        data-sizes="auto"
        alt="/posts/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E8%B7%B3%E8%B7%83%E8%AE%BE%E8%AE%A1/image-20250423170741832.png"
        title="image-20250423170741832" width="917" height="519" /></li>
</ul>
</li>
<li>
<p><strong>跳跃高度控制的插值过度</strong></p>
<ul>
<li>当角色达到预设高度限制时强制速度归零（直接下落或平滑减速）,但是直接将角色的速度取为0会导致手感上很生硬(就好像撞到了空气墙),所以现代游戏设计一般会在高度限制上做一个速度插值平滑过渡（如接近上限时渐衰减）.
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E8%B7%B3%E8%B7%83%E8%AE%BE%E8%AE%A1/image-20250423170913428.png"
        data-srcset="/posts/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E8%B7%B3%E8%B7%83%E8%AE%BE%E8%AE%A1/image-20250423170913428.png, /posts/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E8%B7%B3%E8%B7%83%E8%AE%BE%E8%AE%A1/image-20250423170913428.png 1.5x, /posts/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E8%B7%B3%E8%B7%83%E8%AE%BE%E8%AE%A1/image-20250423170913428.png 2x"
        data-sizes="auto"
        alt="/posts/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E8%B7%B3%E8%B7%83%E8%AE%BE%E8%AE%A1/image-20250423170913428.png"
        title="image-20250423170913428" width="917" height="514" /></li>
</ul>
</li>
<li>
<p><strong>跳跃缓冲（Jump Buffering）</strong></p>
<ul>
<li>存储提前输入的跳跃指令（如连续跳跃落地前几帧按键），在满足条件时自动触发。这点比较类似于游戏连招系统中的按键缓存.
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E8%B7%B3%E8%B7%83%E8%AE%BE%E8%AE%A1/image-20250423171011911.png"
        data-srcset="/posts/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E8%B7%B3%E8%B7%83%E8%AE%BE%E8%AE%A1/image-20250423171011911.png, /posts/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E8%B7%B3%E8%B7%83%E8%AE%BE%E8%AE%A1/image-20250423171011911.png 1.5x, /posts/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E8%B7%B3%E8%B7%83%E8%AE%BE%E8%AE%A1/image-20250423171011911.png 2x"
        data-sizes="auto"
        alt="/posts/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E8%B7%B3%E8%B7%83%E8%AE%BE%E8%AE%A1/image-20250423171011911.png"
        title="image-20250423171011911" width="915" height="514" /></li>
</ul>
</li>
<li>
<p><strong>跳跃宽限期（Coyote Time）</strong></p>
<ul>
<li>对于一些平台游戏,玩家在做出跳跃操作时,可能物理碰撞上已经离开了可跳跃平台(但是玩家视觉上还在地面上),就需要做出一个离地后短暂时间（如3帧）内仍允许起跳，解决边缘判定或视觉延迟问题。
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E8%B7%B3%E8%B7%83%E8%AE%BE%E8%AE%A1/image-20250423170632680.png"
        data-srcset="/posts/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E8%B7%B3%E8%B7%83%E8%AE%BE%E8%AE%A1/image-20250423170632680.png, /posts/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E8%B7%B3%E8%B7%83%E8%AE%BE%E8%AE%A1/image-20250423170632680.png 1.5x, /posts/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E8%B7%B3%E8%B7%83%E8%AE%BE%E8%AE%A1/image-20250423170632680.png 2x"
        data-sizes="auto"
        alt="/posts/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E8%B7%B3%E8%B7%83%E8%AE%BE%E8%AE%A1/image-20250423170632680.png"
        title="image-20250423170632680" width="906" height="509" /></li>
</ul>
</li>
</ul>
<h3 id="一物理引擎层从牛顿定律到游戏化处理"><strong>一、物理引擎层：从牛顿定律到游戏化处理</strong></h3>
<h4 id="1-基础运动方程拆解">1. 基础运动方程拆解</h4>
<ul>
<li>
<p>完整抛物线轨迹计算：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span>y(t) = v0 <span style="font-style:italic">* t - 0.5 *</span> g * t²
</span></span><span style="display:flex;"><span>vy(t) = v0 - g * t
</span></span></code></pre></div><ul>
<li>
<p>游戏中的离散化实现（每帧更新）：</p></div><div class="post-footer">
        <a href="/posts/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E8%B7%B3%E8%B7%83%E8%AE%BE%E8%AE%A1/">阅读全文</a><div class="post-tags">
                <i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1/">游戏设计</a>,&nbsp;<a href="/tags/%E8%B7%B3%E8%B7%83/">跳跃</a>,&nbsp;<a href="/tags/%E4%BA%8C%E6%AE%B5%E8%B7%B3/">二段跳</a>,&nbsp;<a href="/tags/%E7%8A%B6%E6%80%81%E6%9C%BA/">状态机</a>,&nbsp;<a href="/tags/%E7%89%A9%E7%90%86%E6%A8%A1%E6%8B%9F/">物理模拟</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><div class="featured-image-preview">
            <a href="/posts/openpcdet%E6%A8%A1%E5%9E%8B%E9%A2%84%E6%B5%8B%E7%BB%93%E6%9E%9C%E8%A7%A3%E8%AF%BB/"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/pointcloud.png"
        data-srcset="/img/pointcloud.png, /img/pointcloud.png 1.5x, /img/pointcloud.png 2x"
        data-sizes="auto"
        alt="/img/pointcloud.png"
        title="/img/pointcloud.png" /></a>
        </div><h1 class="single-title" itemprop="name headline">
        <a href="/posts/openpcdet%E6%A8%A1%E5%9E%8B%E9%A2%84%E6%B5%8B%E7%BB%93%E6%9E%9C%E8%A7%A3%E8%AF%BB/">【OpenPCDet】模型预测结果解读</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>xxxx</a></span>&nbsp;<span class="post-publish">发布于 <time datetime="2024-03-02">2024-03-02</time></span>&nbsp;<span class="post-category">收录于 <a href="/categories/3dcomputervison/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>3DComputerVison</a></span></div><div class="content"><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/openpcdet%E6%A8%A1%E5%9E%8B%E9%A2%84%E6%B5%8B%E7%BB%93%E6%9E%9C%E8%A7%A3%E8%AF%BB/aab43926a7fe400898d4bfc41f661d63.png"
        data-srcset="/posts/openpcdet%E6%A8%A1%E5%9E%8B%E9%A2%84%E6%B5%8B%E7%BB%93%E6%9E%9C%E8%A7%A3%E8%AF%BB/aab43926a7fe400898d4bfc41f661d63.png, /posts/openpcdet%E6%A8%A1%E5%9E%8B%E9%A2%84%E6%B5%8B%E7%BB%93%E6%9E%9C%E8%A7%A3%E8%AF%BB/aab43926a7fe400898d4bfc41f661d63.png 1.5x, /posts/openpcdet%E6%A8%A1%E5%9E%8B%E9%A2%84%E6%B5%8B%E7%BB%93%E6%9E%9C%E8%A7%A3%E8%AF%BB/aab43926a7fe400898d4bfc41f661d63.png 2x"
        data-sizes="auto"
        alt="/posts/openpcdet%E6%A8%A1%E5%9E%8B%E9%A2%84%E6%B5%8B%E7%BB%93%E6%9E%9C%E8%A7%A3%E8%AF%BB/aab43926a7fe400898d4bfc41f661d63.png"
        title="在这里插入图片描述" width="746" height="587" />
在 OpenPCDet  中，每个模型的推理结果通常是<strong>一个包含多个键值对的字典</strong>，其中包含与 3D 检测任务相关的信息。不同模型的输出结构可能略有不同，但一般来说，模型输出通常包含以下几个关键字段：
以下给一段<code>output/kitti_models/pointrcnn/default/eval/eval_with_train/epoch_80/val/result.pkl</code>中选取某一帧的结果示例,提取为json文件便于阅读：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#34;pointrcnn&#34;</span>: [
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;name&#34;</span>: [
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;Car&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;Pedestrian&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;Pedestrian&#34;</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;truncated&#34;</span>: [
</span></span><span style="display:flex;"><span>                <span style="color:#ae81ff">0.0</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#ae81ff">0.0</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#ae81ff">0.0</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;occluded&#34;</span>: [
</span></span><span style="display:flex;"><span>                <span style="color:#ae81ff">0.0</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#ae81ff">0.0</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#ae81ff">0.0</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;alpha&#34;</span>: [
</span></span><span style="display:flex;"><span>                <span style="color:#ae81ff">-4.0102105140686035</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#ae81ff">-1.6028798818588257</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#ae81ff">-4.731999397277832</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;bbox&#34;</span>: [
</span></span><span style="display:flex;"><span>                [
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">0.0</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">196.87057495117188</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">410.6382141113281</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">373.0</span>
</span></span><span style="display:flex;"><span>                ],
</span></span><span style="display:flex;"><span>                [
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">688.0215454101562</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">172.8148193359375</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">709.7300415039062</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">224.52003479003906</span>
</span></span><span style="display:flex;"><span>                ],
</span></span><span style="display:flex;"><span>                [
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">667.0341186523438</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">172.51962280273438</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">687.4990844726562</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">223.23146057128906</span>
</span></span><span style="display:flex;"><span>                ],
</span></span><span style="display:flex;"><span>              
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;dimensions&#34;</span>: [
</span></span><span style="display:flex;"><span>                [
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">4.10535192489624</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">1.4689395427703857</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">1.6220554113388062</span>
</span></span><span style="display:flex;"><span>                ],
</span></span><span style="display:flex;"><span>                [
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">0.9827990531921387</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">1.7112400531768799</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">0.6871805191040039</span>
</span></span><span style="display:flex;"><span>                ],
</span></span><span style="display:flex;"><span>                [
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">0.5967018008232117</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">1.6898497343063354</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">0.67041015625</span>
</span></span><span style="display:flex;"><span>                ],
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;location&#34;</span>: [
</span></span><span style="display:flex;"><span>                [
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">-2.7540218830108643</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">1.6045180559158325</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">4.157565593719482</span>
</span></span><span style="display:flex;"><span>                ],
</span></span><span style="display:flex;"><span>                [
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">3.2612111568450928</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">1.4242191314697266</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">24.295761108398438</span>
</span></span><span style="display:flex;"><span>                ],
</span></span><span style="display:flex;"><span>                [
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">2.5298221111297607</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">1.3910222053527832</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">24.260332107543945</span>
</span></span><span style="display:flex;"><span>                ],
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;rotation_y&#34;</span>: [
</span></span><span style="display:flex;"><span>                <span style="color:#ae81ff">-4.574054718017578</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#ae81ff">-1.476109504699707</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#ae81ff">-4.6344404220581055</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;score&#34;</span>: [
</span></span><span style="display:flex;"><span>                <span style="color:#ae81ff">0.9997606873512268</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#ae81ff">0.9978153705596924</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#ae81ff">0.9920910596847534</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;boxes_lidar&#34;</span>: [
</span></span><span style="display:flex;"><span>                [
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">4.406521797180176</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">2.786322832107544</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">-0.915142297744751</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">4.10535192489624</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">1.6220554113388062</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">1.4689395427703857</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">3.003258228302002</span>
</span></span><span style="display:flex;"><span>                ],
</span></span><span style="display:flex;"><span>                [
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">24.574119567871094</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">-3.132066488265991</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">-0.7385169863700867</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">0.9827990531921387</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">0.6871805191040039</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">1.7112400531768799</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">-0.09468691051006317</span>
</span></span><span style="display:flex;"><span>                ],
</span></span><span style="display:flex;"><span>                [
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">24.53524398803711</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">-2.4012603759765625</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">-0.7080038189888</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">0.5967018008232117</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">0.67041015625</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">1.6898497343063354</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#ae81ff">3.0636441707611084</span>
</span></span><span style="display:flex;"><span>                ],
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="内容解读">内容解读</h2>
<h3 id="name">name</h3>
<p>含义：检测到的物体类别。
​示例：<code>[&quot;Car&quot;, &quot;Pedestrian&quot;, &quot;Pedestrian&quot;, ...]</code>
​说明：</p></div><div class="post-footer">
        <a href="/posts/openpcdet%E6%A8%A1%E5%9E%8B%E9%A2%84%E6%B5%8B%E7%BB%93%E6%9E%9C%E8%A7%A3%E8%AF%BB/">阅读全文</a><div class="post-tags">
                <i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/openpcdet/">OpenPCDet</a>,&nbsp;<a href="/tags/%E8%87%AA%E5%8A%A8%E9%A9%BE%E9%A9%B6/">自动驾驶</a>,&nbsp;<a href="/tags/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/">目标检测</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><div class="featured-image-preview">
            <a href="/posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/unrealengine.png"
        data-srcset="/img/unrealengine.png, /img/unrealengine.png 1.5x, /img/unrealengine.png 2x"
        data-sizes="auto"
        alt="/img/unrealengine.png"
        title="/img/unrealengine.png" /></a>
        </div><h1 class="single-title" itemprop="name headline">
        <a href="/posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/">【虚幻引擎】设置UI自适应屏幕大小</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>xxxx</a></span>&nbsp;<span class="post-publish">发布于 <time datetime="2023-11-30">2023-11-30</time></span>&nbsp;<span class="post-category">收录于 <a href="/categories/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>游戏开发</a>&nbsp;<a href="/categories/%E8%99%9A%E5%B9%BB%E5%8A%9F%E8%83%BD%E8%AE%B0%E5%BD%95/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>虚幻功能记录</a></span></div><div class="content"><p>在游戏中，如果想实现不同分辨率下，都可以支持当前的UI界面布局，都需要用到锚点功能。
‌<a href="https://www.baidu.com/s?sa=re_dqa_generate&amp;wd=%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E&amp;rsv_pq=ca8de6dd007d16af&amp;oq=%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8Eui%E9%94%9A%E7%82%B9%E6%98%AF%E4%BB%80%E4%B9%88&amp;rsv_t=51d7gQl1KDGIFZHot4xxk8eoDFmMyx2fKF46n5XUr4N9FLnLgEu0uIVIDyzrutkjPI9DBew&amp;tn=15007414_12_dg&amp;ie=utf-8" target="_blank" rel="noopener noreffer ">虚幻引擎</a>中的UI锚点（Anchor）是指控件在屏幕或父物体上的固定点，用于确定控件的位置和布局。‌ 锚点的作用是确保UI元素在屏幕缩放或形变时保持相对位置不变。</p>
<p>在虚幻引擎中，锚点可以理解为将子物体“挂”在父物体上的点。当父物体的位置或大小发生变化时，子物体的位置会相应地调整，保持它们之间的相对关系不变。锚点的位置可以在屏幕的任意角落，通常用于自适应屏幕尺寸和保持布局的稳定性‌。
具体来说，锚点有以下几种情况：</p>
<ul>
<li>当锚点与父物体的某个顶点重合时，子物体在该点的位置不会改变，只有当父物体该点位置改变时，子物体才会跟着移动。</li>
<li>如果锚点不重合，子物体在父物体变形时会跟着缩放，保持与父物体各顶点的距离不变‌。</li>
</ul>
<h3 id="具体实现">具体实现：</h3>
<p>错误的UI锚点设置方法如下：</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/e6bab021dbbf44a2bbaae6670b646233.png"
        data-srcset="/posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/e6bab021dbbf44a2bbaae6670b646233.png, /posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/e6bab021dbbf44a2bbaae6670b646233.png 1.5x, /posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/e6bab021dbbf44a2bbaae6670b646233.png 2x"
        data-sizes="auto"
        alt="/posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/e6bab021dbbf44a2bbaae6670b646233.png"
        title="img" width="1356" height="855" /></p>
<p>如上图为锚点设置不准确，导致缩放时出现屏幕空缺</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/2f3cb2f4e5604e1e857b11dfb50526b0.png"
        data-srcset="/posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/2f3cb2f4e5604e1e857b11dfb50526b0.png, /posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/2f3cb2f4e5604e1e857b11dfb50526b0.png 1.5x, /posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/2f3cb2f4e5604e1e857b11dfb50526b0.png 2x"
        data-sizes="auto"
        alt="/posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/2f3cb2f4e5604e1e857b11dfb50526b0.png"
        title="img" width="1931" height="1039" /></p>
<p>将锚点修改为下图所示：</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/30e978c4df3241b3a9a83f106c50451b.png"
        data-srcset="/posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/30e978c4df3241b3a9a83f106c50451b.png, /posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/30e978c4df3241b3a9a83f106c50451b.png 1.5x, /posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/30e978c4df3241b3a9a83f106c50451b.png 2x"
        data-sizes="auto"
        alt="/posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/30e978c4df3241b3a9a83f106c50451b.png"
        title="img" width="1320" height="817" /></p>
<p>如果想保持UI中内容部件和画布等比缩放，需要将锚点拉伸至和部件相同大小</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/8900c9b717c6428e8837c8e212cc1eef.png"
        data-srcset="/posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/8900c9b717c6428e8837c8e212cc1eef.png, /posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/8900c9b717c6428e8837c8e212cc1eef.png 1.5x, /posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/8900c9b717c6428e8837c8e212cc1eef.png 2x"
        data-sizes="auto"
        alt="/posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/8900c9b717c6428e8837c8e212cc1eef.png"
        title="img" width="1300" height="806" /></p>
<p>全部修改后现实正确：</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/e460f240274b4481a183756a5862cc15.png"
        data-srcset="/posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/e460f240274b4481a183756a5862cc15.png, /posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/e460f240274b4481a183756a5862cc15.png 1.5x, /posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/e460f240274b4481a183756a5862cc15.png 2x"
        data-sizes="auto"
        alt="/posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/e460f240274b4481a183756a5862cc15.png"
        title="img" width="1932" height="1049" /></p></div><div class="post-footer">
        <a href="/posts/%E8%99%9A%E5%B9%BB%E5%BC%95%E6%93%8E%E8%AE%BE%E7%BD%AEui%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F/">阅读全文</a><div class="post-tags">
                <i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/unrealengine/">UnrealEngine</a>,&nbsp;<a href="/tags/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/">游戏开发</a></div></div>
</article><ul class="pagination"><li class="page-item ">
                    <span class="page-link">
                        <a href="/">1</a>
                    </span>
                </li><li class="page-item ">
                    <span class="page-link" aria-hidden="true">&hellip;</span>
                </li><li class="page-item ">
                    <span class="page-link">
                        <a href="/page/6/">6</a>
                    </span>
                </li><li class="page-item ">
                    <span class="page-link">
                        <a href="/page/7/">7</a>
                    </span>
                </li><li class="page-item active">
                    <span class="page-link">
                        <a href="/page/8/">8</a>
                    </span>
                </li><li class="page-item ">
                    <span class="page-link">
                        <a href="/page/9/">9</a>
                    </span>
                </li></ul></div></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">由 <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.153.1">Hugo</a> 强力驱动 | 主题 - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.3.0"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2022 - 2025</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">xxxx</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/typeit/index.umd.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":50},"data":{"id-1":"计算机在校生||游戏程序员"},"typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"id-1":["id-1"]},"duration":-1,"speed":100}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
