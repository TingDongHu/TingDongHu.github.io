--- 
title: 【Games101】颜色与感知(Color and Perception)
date: 2025-12-18T00:00:00+08:00
mathjax: true
categories: ["Games101笔记"]
tags: ["图形学", "GAMES课程", "感知", "色彩", "sRGB"]
description: "颜色是光线与感光系统互动的结果。人眼通过三种视锥细胞将连续光谱转换为三个神经信号，这解释了为何三原色能模拟色彩，并产生了同色异谱现象。"
cover: "/img/ComputerGraphics.png"
headerImage: "/img/rthykless.png"
math: true
--- 

颜色是光线与感光系统互动的结果。人眼通过三种视锥细胞将连续光谱转换为三个神经信号，这解释了为何三原色能模拟色彩，并产生了同色异谱现象。 



##  光谱分布 (SPD)

颜色并不是物体自带的属性，而是光线与感光系统互动的产物 。

![image-20251218213216865](【Games101】颜色与感知(Color-and-Perception)/image-20251218213216865.png)

**可见光谱 (Visible Spectrum)**：电磁波中波长在 **400nm - 700nm** 之间的部分 。一般在游戏、影视渲染中，也只需要渲染这部分的波长的光线即可。

**光谱功率分布 (SPD)：**衡量光的基础属性，描述了光在每一个波长（$\lambda$）上携带了多少能量 。

> [!tip]
>
> ![image-20251218213408973](【Games101】颜色与感知(Color-and-Perception)/image-20251218213408973.png)
>
> SPD 就像是光的“成分配方表”。日光的配方比较均匀，而白炽灯的配方里“长波（红色）”比例更高 。

**光线还具有线性性质**：光的能量是线性叠加的。两束光合在一起，它们的 SPD 直接相加 。

![image-20251218213458997](【Games101】颜色与感知(Color-and-Perception)/image-20251218213458997.png)

 ## 生物过滤网：大脑收到的三路信号

既然光谱是连续的、无穷维的（每个波长都有能量值），为什么我们只需要“三原色”就能模拟万物？

是因为人眼的生物学构造：

![image-20251218213627974](【Games101】颜色与感知(Color-and-Perception)/image-20251218213627974.png)

人的眼中具有两种感光细胞，**视杆细胞 (Rods)**：极致的灵敏度，用于弱光环境。它只感知亮度，不分辨颜色 。**视锥细胞 (Cones)**：正常光照下的主力，提供颜色感觉 。

视锥细胞又可以分为三种，每个人的视锥细胞分布也不同，如下图所示：

- **S-Cone**：对短波长（蓝色）敏感 。
- **M-Cone**：对中波长（绿色）敏感 。
- **L-Cone**：对长波长（红色）敏感 。

![image-20251218214017052](【Games101】颜色与感知(Color-and-Perception)/image-20251218214017052.png)

大脑收到的不是完整的光谱曲线 $s(\lambda)$，而是经过视锥细胞过滤后的三个积分值：
$$
S = \int r_S(\lambda)s(\lambda)d\lambda
$$

$$
M = \int r_M(\lambda)s(\lambda)d\lambda
$$

$$
L = \int r_L(\lambda)s(\lambda)d\lambda
$$

这意味着：无论原始光谱多么复杂（无穷维），进入大脑后都变成了三个简单的数字 $(S, M, L)$

![image-20251218214121208](【Games101】颜色与感知(Color-and-Perception)/image-20251218214121208.png)

## 同色异谱 (Metamerism)

这是图形学中最精妙的“欺骗术”。两个不同的光谱分布，如果计算出的 $(S, M, L)$ 结果相同，它们在人眼中看起来就完全一样 。显示器不需要复刻太阳的光谱，只需要通过 RGB 三原色凑出同样的 $(S, M, L)$ 信号，就能让大脑产生看到太阳光的错觉 。

![image-20251218214245615](【Games101】颜色与感知(Color-and-Perception)/image-20251218214245615.png)

## 数学标准：从 RGB 到 XYZ

### RGB 色彩匹配实验

科学家给观察者三束单色光（红、绿、蓝），让他们去混合并匹配出目标波长的光。实验发现，有些颜色无法通过三原色“加”出来。必须把一部分红光加到目标光那一侧，才能达成平衡。在数学上，这体现为**负权重** 。

![image-20251218214503385](【Games101】颜色与感知(Color-and-Perception)/image-20251218214503385.png)

**CIE XYZ 空间：万能坐标** 

为了消除负值并标准化，科学家虚构了三个原色 X, Y, Z ：**Y = 亮度 (Luminance)**：专门用来表示明暗程度 。**无负值**：匹配函数始终大于 0 。**全覆盖**：能跨越所有观察到的颜色 。

**色度图 (Chromaticity Diagram)**：通过归一化处理 $x = \frac{X}{X+Y+Z}, y = \frac{Y}{X+Y+Z}$，我们将色彩与亮度分离，得到了著名的“马蹄形”图 。

![image-20251218214753883](【Games101】颜色与感知(Color-and-Perception)/image-20251218214753883.png)

**色域 (Gamut)**：显示器能显示的颜色范围，在色度图中表现为一个三角形。三角形越大，色域越广 。如下图所示的sRGB等常用的色域：

![image-20251218214907124](【Games101】颜色与感知(Color-and-Perception)/image-20251218214907124.png)

## 感知空间

**HSV (HSB) 空间**：艺术家最爱。通过**色调 (Hue)**、**饱和度 (Saturation)**和**明度 (Value)**来选色，非常直观 。

**CIELAB (L\*a\*b*)**：追求**感知均匀性**的空间。

**拮抗色理论**：大脑对颜色的编码是成对的（红-绿、蓝-黄、黑-白） 。

**为什么不能有“红绿色”**：因为红色和绿色在人脑中是同一根轴的两端，就像一个物体不能既是“极大”又是“极小” 。

## 总结

**SPD** 是光的真相，但我们看不见真相 。

人眼通过 **SML 视锥细胞**对真相进行“三路采样” 。

**同色异谱**告诉我们：只要采样结果 $(S, M, L)$ 相同，假货（RGB）也能变真货 。

**XYZ** 是标准化的工具，**Y** 代表亮度，**色度图**展示了显示的极限（色域）。

**Lab 空间**揭示了脑神经的秘密：颜色是相对的，且成对竞争 。